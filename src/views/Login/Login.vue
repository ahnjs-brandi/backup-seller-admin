<template>
  <div class="d-flex align-center justify-center bg-primary h-100">

    <div class="login-box">
      <!-- <v-img
        src="@/assets/logo_b.png"
        width="200"
        class="d-inline-block mr-3 mb-6"
      /> -->
      <div class="d-flex mb-6 align-center">
        <v-img
          src="@/assets/logo_b.png"
          width="200"
          class="d-inline-block flex-grow-0 ml-n1"
        />
        <div class="nanum text-h5" style="margin-top: 4px; opacity: .7;">ì…€ëŸ¬ì–´ë“œë¯¼</div>
      </div>

      <v-text-field
        v-model.trim="username"
        placeholder="ì•„ì´ë””"
        variant="solo"
        density="compact"
        :autofocus="$vuetify.display.mdAndUp"
        @keydown.enter="login"
        @input="valid = true"
      />

      <v-text-field
        v-model.trim="password"
        variant="solo"
        placeholder="ë¹„ë°€ë²ˆí˜¸"
        density="compact"
        :type="visibility ? '' : 'password'"
        :append-inner-icon="visibility ? 'visibility_off' : 'visibility'"
        @click:append-inner="visibility = !visibility"
        @keydown.enter="login"
        @input="valid = true"
      />

      <v-fade-transition hide-on-leave>
        <v-alert
          v-if="!valid"
          type="error"
          density="compact"
          variant="outlined"
          class="mb-5"
        >
          ì•„ì´ë”” íŒ¨ìŠ¤ì›Œë“œê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </v-alert>
      </v-fade-transition>

      <v-btn
        color="secondary"
        width="100%"
        size="large"
        @click="login"
      >
        ë¡œê·¸ì¸
      </v-btn>

      <v-fade-transition hide-on-leave>
        <div v-if="count > 1" class="mt-4" style="">
          <div style="user-select:none">{{ count }}ë²ˆ í‹€ë ¸ìŠµë‹ˆë‹¤.</div>
          <span v-for="n in count-1" :key="n" :style="`font-size: ${10 + count*3}px; user-select:none; margin: 0 .1em`">ğŸ©</span>
        </div>
      </v-fade-transition>

      <div class="d-flex align-center login-bottom">
        <v-checkbox
          v-model="remember"
          label="ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì €ì¥"
          class="mt-2"
          density="compact"
          hide-details
        />
        <v-spacer />
        <v-btn
          variant="text"
          size="x-small"
          class="find-password"
          @click="findPassword"
        >
          ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
        </v-btn>
      </div>

      <v-btn
        variant="outlined"
        class="w-100 mt-12"
        style="opacity: .5"
      >
        ë¸Œëœë”” ì…ì ë¬¸ì˜
      </v-btn>
    </div>
  </div>
</template>

<script lang="ts" src="./Login.ts" />

<style lang="scss">
  .login-box {
    width: 100%;
    padding: 0 24px;
    text-align: center;
    max-width: 360px;
  }
  .login-bottom {
    .v-checkbox .v-selection-control {
        font-size: 14px;
    }
    .v-selection-control--inline .v-label{
      font-size: 14px;
      margin-left: 2px;
    }
  }
  .find-password {
    margin-top: 8px;
    font-size: 14px;
    letter-spacing: 0;
    opacity: .6;
  }
</style>